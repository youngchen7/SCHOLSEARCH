<!DOCTYPE HTML>
<html class = "no-js" lang = "en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SCHOLSEARCH</title>

	<!-- If you are using CSS version, only link these 2 files, you may add app.css to use for your overrides if you like. -->
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/foundation.css">
	 <link href="css/main.css" rel="stylesheet" type="text/css">



</head>

<body>
	<div class="row">
    <div class="large-3 columns">
      <h1><img src="img/logo_medium.png" /></h1>
    </div>
    <div class="large-9 columns">
      <ul class="right button-group">
      <li><a href="home.html" class="button">HOME</a></li>
      <li><a href="scholarships.html" class="button">SCHOLARSHIPS</a></li>
      <li><a href="profile.html" class="button">PROFILE</a></li>
      <li><a href="login.html" class="button">LOG IN</a></li>
      <li><a href="signup.html" class="button orange" >SIGN UP </a></li>
      </ul>
     </div>
   </div>

	<!-- End Header and Nav -->

	<div id="placeholder">
		<script>
		
			var names = [];
			var dateArray = [];
			var energy = [];
			var health = [];
			var mood = [];

			var energy_min_names = new Array();
			var energy_max_names = new Array();
			var health_min_names = new Array();
			var health_max_names = new Array();
			var mood_min_names = new Array();
			var mood_max_names = new Array();

		//returns the element of the index of the max value in the array averages
		function find_max(averages)
		{

			var element = averages[0]; 
			var index = 0;
			for(var i = 0; i < averages.length; i++)
			{

				if(averages[i] > element)
				{
					element = averages[i];
					index = i;
				}

			}
			return index;
		} 
		function find_min(averages)
		{
			var element = averages[0];
			var index = 0;
			for(var i = 0; i < averages.length; i++)
			{
				if(averages[i] < element)
				{
					element = averages[i];
					index = i;
				}
			}
			return index;
		}

		function calculate(){

			var rowsum = 0;
			var total = 0;




			var energy_averages = new Array();
			for (var i = 0; i < energy.length; i++)
			{
				for (var j = 0; j < energy[i].length; j++)
				{ 
					if (energy[i][j] != 0)
						total++;
					rowsum += energy[i][j];
				}
				if(rowsum==0)
					total=1;
				energy_averages.push(rowsum/total);

				rowsum = 0; 
				total = 0;
			} 

			var health_averages = new Array();
			for (var i = 1; i < health.length; i++)
			{
				for (var j = 1; j < health[i].length; j++)
				{
					if (health[i][j] != 0)
						total++;
					rowsum += health[i][j];
				}
				if(rowsum==0)
					total=1;
				health_averages.push(rowsum/total);
				rowsum = 0; 
				total = 0;
			}
			var mood_averages = new Array();
			for (var i = 1; i < mood.length; i++)
			{
				for (var j = 1; j < mood[i].length; j++)
				{
					if (mood[i][j] != 0)
						total++;
					rowsum += mood[i][j];
				}
				if(rowsum==0)
					total=1;
				mood_averages.push(rowsum/total);
				rowsum = 0; 
				total = 0;
			}
	  	//Assuming the length of averages is at least 5

	  	var energy_max = new Array();
	  	var energy_min = new Array();
	  	var health_max = new Array();
	  	var health_min = new Array();
	  	var mood_max = new Array();
	  	var mood_min = new Array();

	  	var temp=energy_averages;
	  	for(var i = 0; i < 5; i++)
	  	{ 
	  		energy_max.push(find_max(temp)); 
	  		temp[find_max(temp)] = -1;			
	  	} 

	  	temp = energy_averages;
	  	for(var i = 0; i < 5; i++)
	  	{
	  		energy_min.push(find_min(temp)); 
	  		temp[find_min(temp)] = 5000;	
	  	}

	  	temp = health_averages;
	  	for(var i = 0; i < 5; i++)
	  	{
	  		health_max.push(find_max(temp)); 
	  		temp[find_max(temp)] = -1;	
	  	}

	  	temp = health_averages;
	  	for(var i = 0; i < 5; i++)
	  	{
	  		health_min.push(find_min(temp)); 
	  		temp[find_min(temp)] = 5000;
	  	}

	  	temp = mood_averages;
	  	for(var i = 0; i < 5; i++)
	  	{
	  		mood_max.push(find_max(temp)); 
	  		temp[find_max(temp)] = -1;	
	  	}

	  	temp = mood_averages;
	  	for(var i = 0; i < 5; i++)
	  	{
	  		mood_min.push(find_min(temp)); 
	  		temp[find_min(temp)] = 5000;
	  	}




	  	for (var i = 0; i < 5; i++)
	  	{
	  		energy_min_names.push(names[energy_min[i]]);
	  		energy_max_names.push(names[energy_max[i]]);
	  		health_min_names.push(names[health_min[i]]);
	  		health_max_names.push(names[health_max[i]]);
	  		mood_min_names.push(names[mood_min[i]]);
	  		mood_max_names.push(names[mood_max[i]]);
	  	}
	  }


	  function importData(){
	  	names=$.jStorage.get("f_data",[]);
	  	dateArray=$.jStorage.get("d_data",[]);
	  	energy=$.jStorage.get("e_data",[]);
	  	health=$.jStorage.get("h_data",[]);
	  	mood=$.jStorage.get("m_data",[]);
	  	alert("Data Import Complete!");


	  }


	  function updateInfo(){
	  	importData();
		//Calculations
		calculate();
		//Graph stuff
		var data_1 = {
			labels : ["January","February","March","April","May","June","July"],
			datasets : [
			{
				fillColor : "rgba(220,220,220,0.5)",
				strokeColor : "rgba(220,220,220,1)",
				pointColor : "rgba(220,220,220,1)",
				pointStrokeColor : "#fff",
				data : [65,59,90,81,56,55,40]
			},
			{
				fillColor : "rgba(151,187,205,0.5)",
				strokeColor : "rgba(151,187,205,1)",
				pointColor : "rgba(151,187,205,1)",
				pointStrokeColor : "#fff",
				data : [28,48,40,19,96,27,100]
			} ]
		}
		var ctx_1 = document.getElementById("myGraph").getContext("2d");
		var graphChart = new Chart(ctx_1).Line(data_1);

		var data_2 = {
		labels : ["Eating","Drinking","Sleeping","Designing","Coding","Partying","Running"],
		datasets : [
			{
				fillColor : "rgba(220,220,220,0.5)",
				strokeColor : "rgba(220,220,220,1)",
				pointColor : "rgba(220,220,220,1)",
				pointStrokeColor : "#fff",
				data : [65,59,90,81,56,55,40]
			},
			{
				fillColor : "rgba(151,187,205,0.5)",
				strokeColor : "rgba(151,187,205,1)",
				pointColor : "rgba(151,187,205,1)",
				pointStrokeColor : "#fff",
				data : [28,48,40,19,96,27,100]
			}]
		}		
		var ctx_2 = document.getElementById("myRadar").getContext("2d");
		var radarChart = new Chart(ctx_2).Radar(data_2);

		var data_3 = [
			{
				value: 30,
				color:"#F7464A"
			},
			{
				value : 50,
				color : "#E2EAE9"
			},
			{
				value : 100,
				color : "#D4CCC5"
			},
			{
				value : 40,
				color : "#949FB1"
			},
			{
				value : 120,
				color : "#4D5360"
			}

		]
		var ctx_3 = document.getElementById("myDonut").getContext("2d");
		var donutChart = new Chart(ctx_3).Doughnut(data_3);

		for(var i=0; i<5; i++){

			document.getElementById("maxenergy".concat(i.toString())).innerHTML=energy_max_names[i];
			document.getElementById("minenergy".concat(i.toString())).innerHTML=energy_min_names[i];
			document.getElementById("maxhealth".concat(i.toString())).innerHTML=health_max_names[i];
			document.getElementById("minhealth".concat(i.toString())).innerHTML=health_min_names[i];
			document.getElementById("maxmood".concat(i.toString())).innerHTML=mood_max_names[i];
			document.getElementById("minmood".concat(i.toString())).innerHTML=mood_min_names[i];
		}
	}
</script>

<div id="maincontent">
	<div class="row">
		<div class="large-12 columns">
			<a href="#" onclick="updateInfo()" class="button large radius right alert">Update Info!</a>
		</div>
	</div>


	<div class="row">
		<dl class="tabs" data-tab>
			<dd class="active"><a href="#panel2-1">Table</a></dd>
			<dd><a href="#panel2-2">Graph</a></dd>
			<dd><a href="#panel2-3">Radar</a></dd>
			<dd><a href="#panel2-4">Donut</a></dd>
		</dl>
		<div class="tabs-content">
			<div class="content active" id="panel2-1">
				<div class="row">
					<div class="large-4 columns">
						<table border="1">
							<tr><th width=300 colspan="2">Best Foods for Energy</th></tr>
							<tr><td>1</td><td id="maxenergy0"></td></tr>
							<tr><td>2</td><td id="maxenergy1"></td></tr>
							<tr><td>3</td><td id="maxenergy2"></td></tr>
							<tr><td>4</td><td id="maxenergy3"></td></tr>
							<tr><td>5</td><td id="maxenergy4"></td></tr>
						</table>
						<table border="1">
							<tr><th width=300 colspan="2">Worst Foods for Energy</th></tr>
							<tr><td>1</td><td id="minenergy0"></td></tr>
							<tr><td>2</td><td id="minenergy1"></td></tr>
							<tr><td>3</td><td id="minenergy2"></td></tr>
							<tr><td>4</td><td id="minenergy3"></td></tr>
							<tr><td>5</td><td id="minenergy4"></td></tr>
						</table>
					</div>
					<div class="large-4 columns">
						<table border="1">
							<tr><th width=300 colspan="2">Best Foods for Health</th></tr>
							<tr><td>1</td><td id="maxhealth0"></td></tr>
							<tr><td>2</td><td id="maxhealth1"></td></tr>
							<tr><td>3</td><td id="maxhealth2"></td></tr>
							<tr><td>4</td><td id="maxhealth3"></td></tr>
							<tr><td>5</td><td id="maxhealth4"></td></tr>
						</table>
						<table border="1">
							<tr><th width=300 colspan="2">Worst Foods for Health</th></tr>
							<tr><td>1</td><td id="minhealth0"></td></tr>
							<tr><td>2</td><td id="minhealth1"></td></tr>
							<tr><td>3</td><td id="minhealth2"></td></tr>
							<tr><td>4</td><td id="minhealth3"></td></tr>
							<tr><td>5</td><td id="minhealth4"></td></tr>
						</table>
					</div>
					<div class="large-4 columns">
						<table border="1">
							<tr><th width=300 colspan="2">Best Foods for Mood</th></tr>
							<tr><td>1</td><td id="maxmood0"></td></tr>
							<tr><td>2</td><td id="maxmood1"></td></tr>
							<tr><td>3</td><td id="maxmood2"></td></tr>
							<tr><td>4</td><td id="maxmood3"></td></tr>
							<tr><td>5</td><td id="maxmood4"></td></tr>
						</table>
						<table border="1">
							<tr><th width=300  colspan="2">Worst Foods for Mood</th></tr>
							<tr><td>1</td><td id="minmood0"></td></tr>
							<tr><td>2</td><td id="minmood1"></td></tr>
							<tr><td>3</td><td id="minmood2"></td></tr>
							<tr><td>4</td><td id="minmood3"></td></tr>
							<tr><td>5</td><td id="minmood4"></td></tr>
						</table>
					</div>
				</div>
			</div>
			<div class="content" id="panel2-2">
				<canvas id="myGraph" width="1000" height="400"></canvas>
			</div>
			<div class="content" id="panel2-3">
				<canvas id="myRadar" width="1000" height="400"></canvas>
			</div>
			<div class="content" id="panel2-4">
				<canvas id="myDonut" width="1000" height="400"></canvas>
			</div>
		</div>
	</div>

</div>

</div>
<!-- Call to Action Panel -->
<div class="row">
	<div class="large-12 columns">

		<div class="panel">
			<h4>Get in touch!</h4>

			<div class="row">
				<div class="large-9 columns">
					<p>We'd love to hear from you, you attractive person you.</p>
				</div>
				<div class="large-3 columns">
					<a href="#" class="radius button right">Contact Us</a>
				</div>
			</div>
		</div>

	</div>
</div>

<!-- Footer -->

<footer class="row">
	<div class="large-12 columns">
		<hr />
		<div class="row">
			<div class="large-6 columns">
				<p>© Copyright no one at all. Go to town.</p>
			</div>
			<div class="large-6 columns">
				<ul class="inline-list right">
					<li><a href="home.html">Home</a></li>
					<li><a href="main.html">Record</a></li>
					<li><a href="analyze.html">Analyze</a></li>
					<li><a href="login.html">Login/Register</a></li>
				</ul>
			</div>
		</div>
	</div> 
</footer>
<script src="Chart.js"></script>
<script src="js/vendor/jquery.js"></script>
<script src="js/foundation.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js"></script>
<script src="https://raw.github.com/andris9/jStorage/master/jstorage.js"></script>
<script> /* $.jStorage is now available */ </script>

<script>
	$(document).foundation();
</script>
</body>

</html>